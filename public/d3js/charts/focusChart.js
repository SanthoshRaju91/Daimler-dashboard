function drawLineChart(){
var testdata = [
  {
    "key" : "Actual" ,
    "bar": true,
    "values" : [ 
				[ 1380590000000 , 44] , 
				[ 1380670000000 , 33] , 
				[ 1380760000000 , 36] , 
				[ 1380840000000 , 31] , 
				[ 1380930000000 , 8] , 
				[ 1381020000000 , 4] , 
				[ 1381100000000 , 30] , 
				[ 1381190000000 , 36] , 
				[ 1381280000000 , 25] , 
				[ 1381360000000 , 27] , 
				[ 1381450000000 , 20] , 
				[ 1381540000000 , 9] , 
				[ 1381620000000 , 114] , 
				[ 1381710000000 , 31] , 
				[ 1381800000000 , 34] , 
				[ 1381880000000 , 42] , 
				[ 1381970000000 , 40] , 
				[ 1382050000000 , 27] , 
				[ 1382140000000 , 4] , 
				[ 1382230000000 , 17] , 
				[ 1382310000000 , 42] , 
				[ 1382400000000 , 41] , 
				[ 1382490000000 , 24] , 
				[ 1382570000000 , 26] , 
				[ 1382660000000 , 19] , 
				[ 1382750000000 , 26] , 
				[ 1382830000000 , 6] , 
				[ 1382920000000 , 38] , 
				[ 1383000000000 , 36] , 
				[ 1383090000000 , 32] , 
				[ 1383180000000 , 46] , 
				[ 1383260000000 , 26] , 
				[ 1383350000000 , 9] , 
				[ 1383440000000 , 10] , 
				[ 1383520000000 , 50] , 
				[ 1383610000000 , 33] , 
				[ 1383700000000 , 27] , 
				[ 1383780000000 , 32] , 
				[ 1383870000000 , 41] , 
				[ 1383960000000 , 5] , 
				[ 1384040000000 , 8] , 
				[ 1384130000000 , 37] , 
				[ 1384210000000 , 31] , 
				[ 1384300000000 , 30] , 
				[ 1384390000000 , 27] , 
				[ 1384470000000 , 31] , 
				[ 1384560000000 , 11] , 
				[ 1384650000000 , 8] , 
				[ 1384730000000 , 40] , 
				[ 1384820000000 , 27] , 
				[ 1384910000000 , 32] , 
				[ 1384990000000 , 36] , 
				[ 1385080000000 , 35] , 
				[ 1385160000000 , 16] , 
				[ 1385250000000 , 2] , 
				[ 1385340000000 , 19] , 
				[ 1385420000000 , 21] , 
				[ 1385510000000 , 24] , 
				[ 1385600000000 , 4] , 
				[ 1385680000000 , 22] , 
				[ 1385770000000 , 7] , 
				[ 1385860000000 , 9] , 
				[ 1385940000000 , 50] , 
				[ 1386030000000 , 34] , 
				[ 1386120000000 , 37] , 
				[ 1386200000000 , 30] , 
				[ 1386290000000 , 30] , 
				[ 1386370000000 , 4] , 
				[ 1386460000000 , 4] , 
				[ 1386550000000 , 35] , 
				[ 1386630000000 , 39] , 
				[ 1386720000000 , 43] , 
				[ 1386810000000 , 29] , 
				[ 1386890000000 , 65] , 
				[ 1386980000000 , 13] , 
				[ 1387070000000 , 12] , 
				[ 1387150000000 , 65] , 
				[ 1387240000000 , 36] , 
				[ 1387320000000 , 66] , 
				[ 1387410000000 , 30] , 
				[ 1387500000000 , 31] , 
				[ 1387580000000 , 9] , 
				[ 1387670000000 , 7] , 
				[ 1387760000000 , 22] , 
				[ 1387840000000 , 18] , 
				[ 1387930000000 , 11] , 
				[ 1388020000000 , 23] , 
				[ 1388100000000 , 32] , 
				[ 1388190000000 , 10] , 
				[ 1388280000000 , 7] , 
				[ 1388360000000 , 35] , 
				[ 1388450000000 , 40]
			]
  },
  {
    "key" : "Planned" ,
    "values" : [ 
				[ 1380585600000 , 0] , 
				[ 1380672000000 , 2] , 
				[ 1380758400000 , 1] , 
				[ 1380844800000 , 3] , 
				[ 1380931200000 , 2] , 
				[ 1381017600000 , 0] , 
				[ 1381104000000 , 5] , 
				[ 1381190400000 , 0] , 
				[ 1381276800000 , 3] , 
				[ 1381363200000 , 5] , 
				[ 1381449600000 , 0] , 
				[ 1381536000000 , 1] , 
				[ 1381622400000 , 0] , 
				[ 1381708800000 , 7] , 
				[ 1381795200000 , 0] , 
				[ 1381881600000 , 6] , 
				[ 1381968000000 , 2] , 
				[ 1382054400000 , 2] , 
				[ 1382140800000 , 1] , 
				[ 1382227200000 , 13] , 
				[ 1382313600000 , 1] , 
				[ 1382400000000 , 4] , 
				[ 1382486400000 , 4] , 
				[ 1382572800000 , 5] , 
				[ 1382659200000 , 3] , 
				[ 1382745600000 , 0] , 
				[ 1382832000000 , 0] , 
				[ 1382918400000 , 3] , 
				[ 1383004800000 , 6] , 
				[ 1383091200000 , 8] , 
				[ 1383177600000 , 2] , 
				[ 1383264000000 , 5] , 
				[ 1383350400000 , 0] , 
				[ 1383436800000 , 0] , 
				[ 1383523200000 , 2] , 
				[ 1383609600000 , 8] , 
				[ 1383696000000 , 5] , 
				[ 1383782400000 , 1] , 
				[ 1383868800000 , 2] , 
				[ 1383955200000 , 1] , 
				[ 1384041600000 , 0] , 
				[ 1384128000000 , 0] , 
				[ 1384214400000 , 5] , 
				[ 1384300800000 , 1] , 
				[ 1384387200000 , 2] , 
				[ 1384473600000 , 4] , 
				[ 1384560000000 , 1] , 
				[ 1384646400000 , 0] , 
				[ 1384732800000 , 1] , 
				[ 1384819200000 , 4] , 
				[ 1384905600000 , 0] , 
				[ 1384992000000 , 2] , 
				[ 1385078400000 , 2] , 
				[ 1385164800000 , 0] , 
				[ 1385251200000 , 0] , 
				[ 1385337600000 , 2] , 
				[ 1385424000000 , 1] , 
				[ 1385510400000 , 0] , 
				[ 1385596800000 , 0] , 
				[ 1385683200000 , 1] , 
				[ 1385769600000 , 0] , 
				[ 1385856000000 , 0] , 
				[ 1385942400000 , 1] , 
				[ 1386028800000 , 2] , 
				[ 1386115200000 , 1] , 
				[ 1386201600000 , 0] , 
				[ 1386288000000 , 1] , 
				[ 1386374400000 , 0] , 
				[ 1386460800000 , 1] , 
				[ 1386547200000 , 4] , 
				[ 1386633600000 , 2] , 
				[ 1386720000000 , 2] , 
				[ 1386806400000 , 1] , 
				[ 1386892800000 , 38] , 
				[ 1386979200000 , 2] , 
				[ 1387065600000 , 2] , 
				[ 1387152000000 , 20] , 
				[ 1387238400000 , 2] , 
				[ 1387324800000 , 3] , 
				[ 1387411200000 , 1] , 
				[ 1387497600000 , 2] , 
				[ 1387584000000 , 0] , 
				[ 1387670400000 , 0] , 
				[ 1387756800000 , 3] , 
				[ 1387843200000 , 1] , 
				[ 1387929600000 , 0] , 
				[ 1388016000000 , 7] , 
				[ 1388102400000 , 1] , 
				[ 1388188800000 , 0] , 
				[ 1388275200000 , 0] , 
				[ 1388361600000 , 3] , 
				[ 1388448000000 , 1]			
			]
  }
].map(function(series) {
  series.values = series.values.map(function(d) { return {x: d[0], y: d[1] } });
  return series;
});


/*
//For testing single data point
var testdata = [
  {
    "key" : "Quantity" ,
    "bar": true,
    "values" : [ [ 1384819200000 , 1271000.0] ]
  } ,
  {
    "key" : "Price" ,
    "values" : [ [ 1387497600000 , 71.89] ]
  }
].map(function(series) {
  series.values = series.values.map(function(d) { return {x: d[0], y: d[1] } });
  return series;
});
*/



nv.addGraph(function() {
    var chart = nv.models.linePlusBarWithFocusChart()
        .margin({top: 30, right: 60, bottom: 50, left: 70})
        .x(function(d,i) { return i })
        .color(d3.scale.category10().range());

    chart.xAxis.tickFormat(function(d) {

      var dx = testdata[0].values[d] && testdata[0].values[d].x || 0;
      if (dx > 0) {
          return d3.time.format('%x')(new Date(dx))
      }
      return null;
    });

    chart.x2Axis.tickFormat(function(d) {
      var dx = testdata[0].values[d] && testdata[0].values[d].x || 0;
	  return d3.time.format('%x')(new Date(dx))
    });
    
    chart.y1Axis
        .tickFormat(d3.format(',f'));

    chart.y3Axis
        .tickFormat(d3.format(',f'));
        
    chart.y2Axis
        .tickFormat(function(d) { return /*'$' +*/ d3.format(',f')(d) });

    chart.y4Axis
        .tickFormat(function(d) { return /*'$' +*/ d3.format(',f')(d) });
        
    chart.bars.forceY([0]);
    chart.bars2.forceY([0]);
    //chart.lines.forceY([0]);
    nv.log(testdata);
    d3.select('#chart1 svg')
        .datum(testdata)
        .call(chart);

//    nv.utils.windowResize(chart.update);

    return chart;
});
}